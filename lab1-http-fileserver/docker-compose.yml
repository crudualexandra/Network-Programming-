# File: docker-compose.yml
services:
  web:
    build: .
    command: ["python","server.py","/app/site","--host","0.0.0.0","--port","8000","--workers","8","--delay","0.5"]
    ports:
      - "8000:8000"
    volumes:
      - ./src:/app
      - ./site:/app/site:ro
      - ./downloads:/app/downloads
  client:
    build: .
    entrypoint: ["python","client.py"]
    volumes:
      - ./src:/app
      - ./downloads:/app/downloads